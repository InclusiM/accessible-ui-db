<!DOCTYPE html>
<html lang="en">

<%- include('../partials/header') %>
<body class="animsition">
    <div class="page-wrapper">
        
    <%- include('../partials/nav') %> 
        <!-- PAGE CONTENT-->
        <div class="page-content--bgf7">
            <br/>

            <!-- Misc-->
            <section class="welcome p-t-10">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <h1 class="title-4">Product</h1>
                            
                            <hr class="line-seprate">
                        </div>
                    </div>
                </div>
            </section>
            <!-- Misc end-->
            
            

           
            <!-- DATA TABLE-->
            <section class="p-t-20">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="table-data__tool"> 
                                <div class="table-data__tool-left"></div> 
                                <div class="table-data__tool-right">
                                    <a href="/product-list"><button class="au-btn au-btn-icon au-btn--green au-btn--small">
                                        product list</button></a>
                                    
                                </div>
                            </div>

                            <div class="card">
                                <form hx-post="/updateProduct" hx-on::after-request="this.reset()"  hx-target="#confrim" method="post" class="form-horizontal" enctype="multipart/form-data">
                                    <div class="card-header">
                                        <strong>Edit Product</strong>
                                        
                                    </div>
                                    <div id="confrim"></div>
                                    <div class="card-body card-block">
                                        <div class="form-group">
                                            <label for="name" class=" form-control-label"><strong>Name</strong></label>
                                            <input type="text" id="name" name="name" value="<%= prodDetail.name %>" placeholder="Enter product name" class="form-control" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="price" class=" form-control-label"><strong>Price</strong></label>
                                            <input type="number" id="price" name="price" value="<%= prodDetail.price %>" placeholder="Enter product price" class="form-control" step=".01" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="description" class=" form-control-label"><strong>Description</strong></label>
                                            <textarea name="description" id="description" rows="9" placeholder="Enter product description" class="form-control" required><%= prodDetail.description %></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="price" class=" form-control-label"><strong>Quantity</strong></label>
                                            <input type="number" id="quantity" name="quantity" value="<%= prodDetail.quantity %>" placeholder="Enter product quantity" class="form-control" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="bigimage" class=" form-control-label"><strong>Image(Big)</strong></label>
                                            <input type="file" id="bigimage" name="bigimage" class="form-control-file">
                                        </div>
                                        <div class="form-group">
                                            <label for="bigimage" class=" form-control-label"><strong>Image(Medium)</strong></label>
                                            <input type="file" id="medimage" name="medimage" class="form-control-file">
                                        </div>
                                        <div class="form-group">
                                            <label for="smallimage" class=" form-control-label"><strong>Image(Small)</strong></label>
                                            <input type="file" id="smallimage" name="smallimage" class="form-control-file">
                                        </div>  
                                        <div class="row form-group">
                                            <div class="col col-md-3">
                                                <label class=" form-control-label"><strong>Is Sale?</strong></label>
                                            </div>
                                            <div class="col col-md-12">
                                                <div class="form-check">
                                                    <div class="radio">
                                                        <label for="is_sale1" class="form-check-label ">
                                                            <input type="radio" id="is_sale1" name="is_sale" value="1" class="form-check-input" 
                                                            <% if(prodDetail.is_sale) {%>  checked <% } %> >Yes
                                                        </label>
                                                    </div>
                                                    <div class="radio">
                                                        <label for="is_sale2" class="form-check-label ">
                                                            <input type="radio" id="is_sale2" name="is_sale" value="0" class="form-check-input" <% if(!prodDetail.is_sale) {%>  checked <% } %>>No
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>        
                                            
                                        </div>
                                        <div class="form-group">
                                            <label for="sale_percentage" class=" form-control-label"><strong>If yes, mention sale percentage</strong></label>
                                            <input type="number" id="sale_percentage" name="sale_percentage" value="<%= prodDetail.sale_percentage %>" placeholder="Enter sale percentage" class="form-control" step=".01">
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-3">
                                                <label class=" form-control-label"><strong>Is Featured?</strong></label>
                                            </div>
                                            <div class="col col-md-12">
                                                <div class="form-check">
                                                    <div class="radio">
                                                        <label for="is_featurted1" class="form-check-label ">
                                                            <input type="radio" id="is_featurted1" name="is_featured" value="1" class="form-check-input"
                                                            <% if(prodDetail.is_featured) {%>  checked <% } %>>Yes
                                                        </label>
                                                    </div>
                                                    <div class="radio">
                                                        <label for="is_featurted2" class="form-check-label ">
                                                            <input type="radio" id="is_featurted2" name="is_featured" value="0" class="form-check-input" <% if(!prodDetail.is_featured) {%>  checked <% } %>>No
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>        
                                            
                                        </div>
                                        <div class="form-group">
                                            <label for="category" class=" form-control-label"><strong>Select Category</strong></label>
                                            <select name="category" id="category" class="form-control">
                                                <option value="">Select</option>
                                                <% for (var i = 0; i < categoryList.length; i++) {%>  
                                                    <option <% if(categoryList[i]._id == prodCat.category_id) { %> selected <% } %> value="<%= categoryList[i]._id %>"><%= categoryList[i].name %></option>
                                                <% } %>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="brand" class=" form-control-label"><strong>Select Brand</strong></label>
                                            <select name="brand" id="brand" class="form-control">
                                                <option value="">Select</option>
                                                <% for (var i = 0; i < brandList.length; i++) {%>  
                                                    <option <% if(brandList[i]._id == prodBrand.brand_id) { %> selected <% } %> value="<%= brandList[i]._id %>"><%= brandList[i].name %></option>
                                                <% } %>
                                            </select>
                                        </div>
                                          <input type="hidden" name="product_id" value="<%= prodDetail._id %>" /> 
                                          <input type="hidden" id="bigimage_old" name="bigimage_old" value="<%= prodDetail.image_big %>" />
                                          <input type="hidden" id="medimage_old" name="medimage_old" value="<%= prodDetail.image_medium %>" />
                                          <input type="hidden" id="smallimage_old" name="smallimage_old" value="<%= prodDetail.image_small %>" />
                                    </div>         
                                    <div class="card-footer">
                                        <button type="submit" onclick="topFunction()" class="btn btn-success btn-sm">
                                            Edit
                                        </button>
                                        <button type="reset" class="btn btn-danger btn-sm">
                                            <i class="fa fa-ban"></i> Reset
                                        </button>
                                    </div>
                                </form>
                            </div>   
                              
                            
                        </div>
                    </div>
                </div>
            </section>
            <!-- END DATA TABLE-->

            <%- include('../partials/footer') %>

<script>
function topFunction() {
  document.body.scrollTop = 0; // For Safari
  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}
</script>            
</body>

</html>
<!-- end document-->
